<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>得到像素值/设置像素值</title>
	<style type="text/css">
		body{
			background-color: #000000;
		}
		#canvas{
			background-color: #ffffff;
		}
	</style>
</head>
<body>
	<canvas id='canvas' width='400' height='400'></canvas>
	<script type="text/javascript">
		var canvas = document.getElementById('canvas');
		var context = canvas.getContext('2d');
		context.fillRect(0,0,100,100);
		//像素点是从（0,0）点开始算，（0,0）表示第一行，第一列的像素点
		var colorData = context.getImageData(0,0,100,100);
		// var colorRgba = getColorRgba(colorData,3,5);//getColorRgba这个函数用于得到第四列，第六行的像素的rgba值；
		// alert(colorRgba);
		// // 思路:首先要得到(3,5)是第几个像素点，由于每一个像素点由rgba这四个值组成，所以要乘以4，
		// function getColorRgba(colorObj,x,y){
		// 	var arr= [];
		// 	var width = colorObj.width;
		// 	var height = colorObj.height;
		// 	var data = colorObj.data;
		// 	arr[0] = data[4*(y*width+x)];//得到的是R的值
		// 	arr[1] = data[4*(y*width+x)+1];//得到的是g的值
		// 	arr[2] = data[4*(y*width+x)+2];//得到的是b的值
		// 	arr[3] = data[4*(y*width+x)+3];//得到的是a的值
		// 	return arr;
		// }
		
		for(var i= 0;i<colorData.width;i++){
			setColorRgba(colorData,i,5);//将第六行的像素设为红色
		}
		context.putImageData(colorData,100,100);
		function setColorRgba(colorObj,x,y){
			var arr= [];
			var width = colorObj.width;
			var height = colorObj.height;
			var data = colorObj.data;
			data[4*(y*width+x)] =255;
			data[4*(y*width+x)+1] =0;
			data[4*(y*width+x)+2] =0;
			data[4*(y*width+x)+3] =255;
		}
	</script>
</body>
</html>